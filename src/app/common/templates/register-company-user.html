<section>
    <div class="grey-header">
        <p class="main">
            {{'common.have_account' | translate}}
            <br>
            <a href="#{{routes.user.signin.url}}">{{'common.login' | translate}}</a>
        </p>
    </div>
    <div class="company-register-form">
        <form name="form" novalidate ng-submit="ctrl.process()">

            <div class="material-input">
                <div class="group">
                    <h1>Ny uppdragsgivare</h1>
                    <h2>Företags uppgifter</h2>
                    <p>En hjälptext om vilka typer av användarkonton skulle kunna vara ungefär såhär lång. Har vi mycket
                        att
                        orda om kan den krypa ned hit.</p>
                </div>

                <validation2 form="form" field="cin" errormsg="company.form.orgnr.validation">
                    <input type="hidden" name="id" ng-model="ctrl.data.id"/>
                    <div class="group">
                        <input type="text" name="cin" ng-pattern="/^[\d\-]+$/" ng-minlength="10"
                               ng-model="ctrl.data.cin"
                               ng-keyup="ctrl.cinKeyup();" ng-blur="ctrl.getCompanyByCin();" ng-disabled="isNew === 1">
                        <label>{{'company.form.orgnr' | translate}}</label>
                    </div>
                </validation2>

                <button class="form-control btn btn-pos btn-cancel" type="button" ng-click="ctrl.clearCompanyData()"
                        ng-show="isNew === 1">{{'common.cancel' | translate}}
                </button>

                <validation2 form="form" field="name" errormsg="company.form.name.validation">
                    <div class="group">
                        <input type="text" id="txt_company_name" name="name" ng-required="isNew===1"
                               ng-model="ctrl.data.name"
                               ng-disabled="disableInput"
                               ng-keyup="form.name.error_detail = undefined">
                        <label>{{'company.form.name' | translate}}</label>
                    </div>
                </validation2>

                <validation2 form="form" field="website" errormsg="company.form.url.validation">
                    <div class="group">
                        <input type="url" name="website" ng-required="isNew===1" ng-model="ctrl.data.website"
                               ng-disabled="disableInput"
                               ng-keyup="form.website.error_detail = undefined">
                        <label>{{'company.form.url' | translate}}</label>
                    </div>
                </validation2>

                <validation2 form="form" field="street" errormsg="company.form.street.validation">
                    <div class="group">
                        <input type="text" name="street" ng-required="isNew===1" ng-minlength="1"
                               ng-model="ctrl.data.street" ng-disabled="disableInput"
                               ng-keyup="form.street.error_detail = undefined">
                        <label>{{'company.form.street' | translate}}</label>
                    </div>
                </validation2>

                <validation2 form="form" field="zip" errormsg="company.form.zip.validation">
                    <div class="group">
                        <input type="text" name="zip" ng-model="ctrl.data.zip" ng-required="isNew===1"
                               ng-disabled="disableInput"
                               ng-minlength="5" ng-maxlength="5" ng-keyup="form.zip.error_detail = undefined">
                        <label>{{'company.form.zip' | translate}}</label>
                    </div>
                </validation2>

                <validation2 form="form" field="city" errormsg="company.form.city.validation">
                    <div class="group">
                        <input type="text" name="city" ng-model="ctrl.data.city" ng-required="isNew===1"
                               ng-disabled="disableInput" ng-minlength="1"
                               ng-keyup="form.city.error_detail = undefined">
                        <label>{{'company.form.city' | translate}}</label>
                    </div>
                </validation2>

                <div class="group register-image register-image-preview" ng-show="isShowLogo">
                    <div class="show-image" ng-show="isShowLogo"><img ng-src="{{ctrl.company_image}}" alt/></div>
                    <label>{{ 'company.form.logo' | translate }}</label>
                </div>

                <div class="group register-image" ng-show="isNew">
                    <!--<input type="file" id="file_upload" name="file" ng-disabled="disableInput" onchange="angular.element(this).scope().fileNameChanged()" accept="image/*">-->
					<input type="file" id="file_upload" name="file" ng-disabled="disableInput" custom-on-change="fileNameChanged" accept="image/*">
                    <label>{{ 'company.form.logo' | translate }}</label>
                </div>


                <div class="group">
                    <h2>Inloggningsuppgifter</h2>
                </div>

                <validation2 form="form" field="ssn" errormsg="user.form.ssn.validation">
                    <div class="group">
                        <input name="ssn" type="text" required ng-minlength="10" ng-pattern="/^\d+$/"
                               ng-maxlength="10" ng-model="ctrl.data.ssn" ng-keyup="form.ssn.error_detail = undefined"/>
                        <label>{{ 'user.form.ssn' | translate }}</label>
                    </div>
                </validation2>

                <validation2 form="form" field="first_name" errormsg="user.form.first_name.validation">
                    <div class="group">
                        <input name="first_name" type="text" required
                               ng-model="ctrl.data.first_name" ng-keyup="form.first_name.error_detail = undefined">
                        <label>{{ 'user.form.first_name' | translate }}</label>
                    </div>
                </validation2>

                <validation2 form="form" field="last_name" errormsg="user.form.last_name.validation">
                    <div class="group">
                        <input name="last_name" type="text" required ng-model="ctrl.data.last_name"
                               ng-keyup="form.last_name.error_detail = undefined">
                        <label>{{'user.form.last_name' | translate }}</label>
                    </div>
                </validation2>

                <validation2 form="form" field="phone" errormsg="company.form.phone.validation">
                    <div class="group">
                        <input type="text" name="phone" ng-model="ctrl.data.phone"
                               ng-keyup="form.phone.error_detail = undefined">
                        <label>{{'company.form.phone' | translate}}</label>
                    </div>
                </validation2>

                <validation2 form="form" field="email" errormsg="company.form.email.validation">
                    <div class="group">
                        <input type="email" name="email" required ng-model="ctrl.data.email"
                               ng-pattern="/^[a-zA-Z0-9.!#$%&’*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/"
                               ng-keyup="form.email.error_detail = undefined">
                        <label>{{'company.form.email' | translate}}</label>
                    </div>
                </validation2>

                <validation2 form="form" field="password" errormsg="user.form.password.validation">
                    <div class="group">
                        <input name="password" type="password" required ng-minlength="8" ng-model="ctrl.data.password"
                               ng-keyup="form.password.error_detail = undefined">
                        <label>{{ 'user.form.password' | translate }}</label>
                    </div>
                </validation2>

                <div class="group register-image">
                    <!--<input type="file" id="file_upload2" name="file" onchange="angular.element(this).scope().fileNameChanged2()" accept="image/*">-->
					<input type="file" id="file_upload2" name="file" custom-on-change="fileNameChanged2" accept="image/*">
                    <label>{{ 'user.form.picture' | translate }}</label>
                </div>
            </div>
            <div>
                <div class="terms">
                    <p style="margin-bottom:10px;"><input id="chk_terms" type="checkbox" ng-true-value="1" required name="terms" ng-model="terms"> <label for="chk_terms">{{'terms.accept'
                        | translate}} {{'terms' | translate}}</label>
                        <a href="assets/terms/160523_2051-2_Terms_and_Conditions_(en).pdf" target="_blank"> PDF EN </a>, <a href="assets/terms/160520_2051-2_Anvandarvillkor_(sv).pdf" target="_blank"> PDF
                            SV</a></p>
                </div>

                <div class="terms">
                    <p><input id="chk_termsFrilan" type="checkbox" ng-true-value="1" required name="termsFrilan" ng-model="termsFrilan">
                        <label for="chk_termsFrilan">{{"terms.frilans_finans.accept" | translate}}</label> <a href="{{ctrl.termsAgreements}}" target="_blank"
                                                                         ng-show="ctrl.termsAgreements">{{'terms' |
                            translate}}</a></p>
                </div>

                <div class="form-group">
                    <button class="form-control btn btn-pos" type="submit"
                            ng-disabled="form.$invalid || ctrl.uploadingCompany || ctrl.uploadingUser">
                        {{'common.continue' | translate}}
                    </button>
                </div>
            </div>
        </form>
    </div>
</section>